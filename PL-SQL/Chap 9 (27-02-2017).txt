SQL> set lines 300
SQL> set pages 20
SQL> set serveroutput on
SQL> DROP TABLE dept;
DROP TABLE dept
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


SQL> DROP PROCEDURE add_dept;

Procedure dropped.

SQL> CREATE TABLE dept AS SELECT * FROM departments;

Table created.

SQL> CREATE PROCEDURE add_dept IS
  2   v_dept_id dept.department_id%TYPE;
  3   v_dept_name dept.department_name%TYPE;
  4  BEGIN
  5   v_dept_id:=280;
  6   v_dept_name:='ST-Curriculum';
  7   INSERT INTO dept(department_id,department_name)
  8   VALUES(v_dept_id,v_dept_name);
  9   DBMS_OUTPUT.PUT_LINE(' Inserted '|| SQL%ROWCOUNT ||' row ');
 10  END;
 11  /

Procedure created.

SQL> execute add_dept;
Inserted 1 row                                                                                                                                                                                                                                                                                              

PL/SQL procedure successfully completed.

SQL> select * from dept where department_id=280;

DEPARTMENT_ID DEPARTMENT_NAME                MANAGER_ID LOCATION_ID                                                                                                                                                                                                                                         
------------- ------------------------------ ---------- -----------                                                                                                                                                                                                                                         
          280 hr                                    100        1700                                                                                                                                                                                                                                         
          280 ST-Curriculum                                                                                                                                                                                                                                                                                 

SQL> execute add_dept;
Inserted 1 row                                                                                                                                                                                                                                                                                              

PL/SQL procedure successfully completed.

SQL> execute add_dept;
Inserted 1 row                                                                                                                                                                                                                                                                                              

PL/SQL procedure successfully completed.

SQL> execute add_dept;
Inserted 1 row                                                                                                                                                                                                                                                                                              

PL/SQL procedure successfully completed.

SQL> select * from dept where department_id=280;

DEPARTMENT_ID DEPARTMENT_NAME                MANAGER_ID LOCATION_ID                                                                                                                                                                                                                                         
------------- ------------------------------ ---------- -----------                                                                                                                                                                                                                                         
          280 hr                                    100        1700                                                                                                                                                                                                                                         
          280 ST-Curriculum                                                                                                                                                                                                                                                                                 
          280 ST-Curriculum                                                                                                                                                                                                                                                                                 
          280 ST-Curriculum                                                                                                                                                                                                                                                                                 
          280 ST-Curriculum                                                                                                                                                                                                                                                                                 

SQL> select object_name,object_type from user_objects where object_type='PROCEDURE';

OBJECT_NAME                                                                                                                      OBJECT_TYPE                                                                                                                                                                
-------------------------------------------------------------------------------------------------------------------------------- -------------------                                                                                                                                                        
UPDATE_SALARY                                                                                                                    PROCEDURE                                                                                                                                                                  
SECURE_DML                                                                                                                       PROCEDURE                                                                                                                                                                  
SAL_STATUS                                                                                                                       PROCEDURE                                                                                                                                                                  
READ_FILE                                                                                                                        PROCEDURE                                                                                                                                                                  
RAISE_SALARY                                                                                                                     PROCEDURE                                                                                                                                                                  
QUERY_EMP                                                                                                                        PROCEDURE                                                                                                                                                                  
PROCESS_EMPLOYEES                                                                                                                PROCEDURE                                                                                                                                                                  
PROCESS_DATA                                                                                                                     PROCEDURE                                                                                                                                                                  
P2                                                                                                                               PROCEDURE                                                                                                                                                                  
P111                                                                                                                             PROCEDURE                                                                                                                                                                  
P11                                                                                                                              PROCEDURE                                                                                                                                                                  
P1                                                                                                                               PROCEDURE                                                                                                                                                                  
P                                                                                                                                PROCEDURE                                                                                                                                                                  
NEW_PROC                                                                                                                         PROCEDURE                                                                                                                                                                  
LOG_USAGE                                                                                                                        PROCEDURE                                                                                                                                                                  
LOG_EXECUTION                                                                                                                    PROCEDURE                                                                                                                                                                  
LIST_EMPLOYEES                                                                                                                   PROCEDURE                                                                                                                                                                  

OBJECT_NAME                                                                                                                      OBJECT_TYPE                                                                                                                                                                
-------------------------------------------------------------------------------------------------------------------------------- -------------------                                                                                                                                                        
INSERT_ROW                                                                                                                       PROCEDURE                                                                                                                                                                  
GET_DEPARTMENTS                                                                                                                  PROCEDURE                                                                                                                                                                  
GETSALARY1                                                                                                                       PROCEDURE                                                                                                                                                                  
GETSALARY                                                                                                                        PROCEDURE                                                                                                                                                                  
FORMAT_PHONE                                                                                                                     PROCEDURE                                                                                                                                                                  
EMPLOYEE_SAL                                                                                                                     PROCEDURE                                                                                                                                                                  
DEPTREE_FILL                                                                                                                     PROCEDURE                                                                                                                                                                  
CREATE_TABLE                                                                                                                     PROCEDURE                                                                                                                                                                  
CREATE_DEPARTMENTS_NOEX                                                                                                          PROCEDURE                                                                                                                                                                  
CREATE_DEPARTMENTS                                                                                                               PROCEDURE                                                                                                                                                                  
COMPILE_PLSQL                                                                                                                    PROCEDURE                                                                                                                                                                  
COMPILE_CODE                                                                                                                     PROCEDURE                                                                                                                                                                  
CIRCLE_AREA                                                                                                                      PROCEDURE                                                                                                                                                                  
BANK_TRANS                                                                                                                       PROCEDURE                                                                                                                                                                  
ADD_ROW                                                                                                                          PROCEDURE                                                                                                                                                                  
ADD_JOB_HISTORY                                                                                                                  PROCEDURE                                                                                                                                                                  
ADD_DEPT                                                                                                                         PROCEDURE                                                                                                                                                                  

OBJECT_NAME                                                                                                                      OBJECT_TYPE                                                                                                                                                                
-------------------------------------------------------------------------------------------------------------------------------- -------------------                                                                                                                                                        
ADD_DEPARTMENT_NOEX                                                                                                              PROCEDURE                                                                                                                                                                  
ADD_DEPARTMENT                                                                                                                   PROCEDURE                                                                                                                                                                  
ADD_COL                                                                                                                          PROCEDURE                                                                                                                                                                  

37 rows selected.

SQL> SELECT * FROM USER_SOURCE WHERE NAME='ADD_DEPT';

NAME                           TYPE               LINE                                                                                                                                                                                                                                                      
------------------------------ ------------ ----------                                                                                                                                                                                                                                                      
TEXT                                                                                                                                                                                                                                                                                                        
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
ADD_DEPT                       PROCEDURE             1                                                                                                                                                                                                                                                      
PROCEDURE add_dept IS                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                            
ADD_DEPT                       PROCEDURE             2                                                                                                                                                                                                                                                      
 v_dept_id dept.department_id%TYPE;                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                            
ADD_DEPT                       PROCEDURE             3                                                                                                                                                                                                                                                      
 v_dept_name dept.department_name%TYPE;                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                            
ADD_DEPT                       PROCEDURE             4                                                                                                                                                                                                                                                      
BEGIN                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                            
ADD_DEPT                       PROCEDURE             5                                                                                                                                                                                                                                                      
 v_dept_id:=280;                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                            

NAME                           TYPE               LINE                                                                                                                                                                                                                                                      
------------------------------ ------------ ----------                                                                                                                                                                                                                                                      
TEXT                                                                                                                                                                                                                                                                                                        
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
ADD_DEPT                       PROCEDURE             6                                                                                                                                                                                                                                                      
 v_dept_name:='ST-Curriculum';                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                            
ADD_DEPT                       PROCEDURE             7                                                                                                                                                                                                                                                      
 INSERT INTO dept(department_id,department_name)                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                            
ADD_DEPT                       PROCEDURE             8                                                                                                                                                                                                                                                      
 VALUES(v_dept_id,v_dept_name);                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                            
ADD_DEPT                       PROCEDURE             9                                                                                                                                                                                                                                                      
 DBMS_OUTPUT.PUT_LINE(' Inserted '|| SQL%ROWCOUNT ||' row ');                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                            
ADD_DEPT                       PROCEDURE            10                                                                                                                                                                                                                                                      
END;                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                            

10 rows selected.

SQL> SELECT TEXT FROM USER_SOURCE WHERE NAME='ADD_DEPT';

TEXT                                                                                                                                                                                                                                                                                                        
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
PROCEDURE add_dept IS                                                                                                                                                                                                                                                                                       
 v_dept_id dept.department_id%TYPE;                                                                                                                                                                                                                                                                         
 v_dept_name dept.department_name%TYPE;                                                                                                                                                                                                                                                                     
BEGIN                                                                                                                                                                                                                                                                                                       
 v_dept_id:=280;                                                                                                                                                                                                                                                                                            
 v_dept_name:='ST-Curriculum';                                                                                                                                                                                                                                                                              
 INSERT INTO dept(department_id,department_name)                                                                                                                                                                                                                                                            
 VALUES(v_dept_id,v_dept_name);                                                                                                                                                                                                                                                                             
 DBMS_OUTPUT.PUT_LINE(' Inserted '|| SQL%ROWCOUNT ||' row ');                                                                                                                                                                                                                                               
END;                                                                                                                                                                                                                                                                                                        

10 rows selected.

SQL> BEGIN
  2  ADD_DEPT;
  3  END;
  4  /
Inserted 1 row                                                                                                                                                                                                                                                                                              

PL/SQL procedure successfully completed.

SQL> CALL ADD_DEPT;
CALL ADD_DEPT
     *
ERROR at line 1:
ORA-06576: not a valid function or procedure name 


SQL> BEGIN
  2  CALL ADD_DEPT;
  3  END;
  4  /
CALL ADD_DEPT;
     *
ERROR at line 2:
ORA-06550: line 2, column 6: 
PLS-00103: Encountered the symbol "ADD_DEPT" when expecting one of the following: 
:= . ( @ % ; 
The symbol ":=" was substituted for "ADD_DEPT" to continue. 


SQL> ED
Wrote file afiedt.buf

  1  BEGIN
  2  CALL ADD_DEPT();
  3* END;
SQL> /
CALL ADD_DEPT();
     *
ERROR at line 2:
ORA-06550: line 2, column 6: 
PLS-00103: Encountered the symbol "ADD_DEPT" when expecting one of the following: 
:= . ( @ % ; 
The symbol ":=" was substituted for "ADD_DEPT" to continue. 


SQL> ED
Wrote file afiedt.buf

  1  BEGIN
  2  call add_dept;
  3* END;
SQL> /
call add_dept;
     *
ERROR at line 2:
ORA-06550: line 2, column 6: 
PLS-00103: Encountered the symbol "ADD_DEPT" when expecting one of the following: 
:= . ( @ % ; 
The symbol ":=" was substituted for "ADD_DEPT" to continue. 


SQL> ed
Wrote file afiedt.buf

  1  begin
  2  call add_dept();
  3* end;
SQL> /
call add_dept();
     *
ERROR at line 2:
ORA-06550: line 2, column 6: 
PLS-00103: Encountered the symbol "ADD_DEPT" when expecting one of the following: 
:= . ( @ % ; 
The symbol ":=" was substituted for "ADD_DEPT" to continue. 


SQL> ed
Wrote file afiedt.buf

  1  begin
  2  call add_dept;
  3* end;
SQL> /
call add_dept;
     *
ERROR at line 2:
ORA-06550: line 2, column 6: 
PLS-00103: Encountered the symbol "ADD_DEPT" when expecting one of the following: 
:= . ( @ % ; 
The symbol ":=" was substituted for "ADD_DEPT" to continue. 


SQL> call add_dept;
call add_dept
     *
ERROR at line 1:
ORA-06576: not a valid function or procedure name 


SQL> call add_dept();
Inserted 1 row                                                                                                                                                                                                                                                                                              

Call completed.

SQL> execute add_dept;
Inserted 1 row                                                                                                                                                                                                                                                                                              

PL/SQL procedure successfully completed.

SQL> select * from employees where employee_id=205;

EMPLOYEE_ID FIRST_NAME           LAST_NAME                 EMAIL                                              PHONE_NUMBER         HIRE_DATE JOB_ID         SALARY COMMISSION_PCT MANAGER_ID DEPARTMENT_ID                                                                                                  
----------- -------------------- ------------------------- -------------------------------------------------- -------------------- --------- ---------- ---------- -------------- ---------- -------------                                                                                                  
        205 Shelley              Higgins                   SHIGGINS                                           515.123.8080         07-JUN-02 AC_MGR       14529.68                       101           110                                                                                                  

SQL> select avg(salary) from employees where department_id=110;

AVG(SALARY)                                                                                                                                                                                                                                                                                                 
-----------                                                                                                                                                                                                                                                                                                 
   12286.34                                                                                                                                                                                                                                                                                                 

SQL> CREATE FUNCTION check_sal RETURN Boolean IS
  2   v_dept_id employees.department_id%TYPE;
  3   v_empno   employees.employee_id%TYPE;
  4   v_sal     employees.salary%TYPE;
  5   v_avg_sal employees.salary%TYPE;
  6  BEGIN
  7   v_empno:=205;
  8   SELECT salary,department_id INTO v_sal,v_dept_id FROM employees
  9   WHERE employee_id= v_empno;
 10   SELECT avg(salary) INTO v_avg_sal FROM employees WHERE department_id=v_dept_id;
 11   IF v_sal > v_avg_sal THEN
 12    RETURN TRUE;
 13   ELSE
 14    RETURN FALSE;
 15   END IF;
 16  
 17  EXCEPTION
 18    WHEN NO_DATA_FOUND THEN
 19     RETURN NULL;
 20  END;
 21  /
CREATE FUNCTION check_sal RETURN Boolean IS
                *
ERROR at line 1:
ORA-00955: name is already used by an existing object 


SQL> CREATE or replace FUNCTION check_sal RETURN Boolean IS
  2   v_dept_id employees.department_id%TYPE;
  3   v_empno   employees.employee_id%TYPE;
  4   v_sal     employees.salary%TYPE;
  5   v_avg_sal employees.salary%TYPE;
  6  BEGIN
  7   v_empno:=205;
  8   SELECT salary,department_id INTO v_sal,v_dept_id FROM employees
  9   WHERE employee_id= v_empno;
 10   SELECT avg(salary) INTO v_avg_sal FROM employees WHERE department_id=v_dept_id;
 11   IF v_sal > v_avg_sal THEN
 12    RETURN TRUE;
 13   ELSE
 14    RETURN FALSE;
 15   END IF;
 16  
 17  EXCEPTION
 18    WHEN NO_DATA_FOUND THEN
 19     RETURN NULL;
 20  END;
 21  /

Function created.

SQL> declare
  2  flag boolean;
  3  begin
  4  flag:=check_sal();
  5  if flag=true then
  6  dbms_out.put.put_line('salary>avg(salary)');
  7  else
  8  dbms_out.put.put_line('salary<avg(salary)');
  9  end if;
 10  end;
 11  /
dbms_out.put.put_line('salary>avg(salary)');
*
ERROR at line 6:
ORA-06550: line 6, column 1: 
PLS-00201: identifier 'DBMS_OUT.PUT' must be declared 
ORA-06550: line 6, column 1: 
PL/SQL: Statement ignored 
ORA-06550: line 8, column 1: 
PLS-00201: identifier 'DBMS_OUT.PUT' must be declared 
ORA-06550: line 8, column 1: 
PL/SQL: Statement ignored 


SQL> ed
Wrote file afiedt.buf

  1  declare
  2  flag boolean;
  3  begin
  4  flag:=check_sal();
  5  if flag=true then
  6  dbms_out.put_line('salary>avg(salary)');
  7  else
  8  dbms_out.put_line('salary<avg(salary)');
  9  end if;
 10* end;
SQL> /
dbms_out.put_line('salary>avg(salary)');
*
ERROR at line 6:
ORA-06550: line 6, column 1: 
PLS-00201: identifier 'DBMS_OUT.PUT_LINE' must be declared 
ORA-06550: line 6, column 1: 
PL/SQL: Statement ignored 
ORA-06550: line 8, column 1: 
PLS-00201: identifier 'DBMS_OUT.PUT_LINE' must be declared 
ORA-06550: line 8, column 1: 
PL/SQL: Statement ignored 


SQL> ed
Wrote file afiedt.buf

  1  declare
  2  flag boolean;
  3  begin
  4  flag:=check_sal();
  5  if flag=true then
  6  dbms_output.put_line('salary>avg(salary)');
  7  else
  8  dbms_output.put_line('salary<avg(salary)');
  9  end if;
 10* end;
SQL> /
salary>avg(salary)                                                                                                                                                                                                                                                                                          

PL/SQL procedure successfully completed.

SQL> ed
Wrote file afiedt.buf

  1  declare
  2  flag boolean;
  3  begin
  4  flag:=check_sal();
  5  if flag=true then
  6  dbms_output.put_line('salary>avg(salary)');
  7  else
  8  dbms_output.put_line('salary<avg(salary)');
  9  end if;
 10* end;
SQL> /
salary>avg(salary)                                                                                                                                                                                                                                                                                          

PL/SQL procedure successfully completed.

SQL> select * from employees where employee_id=200;

EMPLOYEE_ID FIRST_NAME           LAST_NAME                 EMAIL                                              PHONE_NUMBER         HIRE_DATE JOB_ID         SALARY COMMISSION_PCT MANAGER_ID DEPARTMENT_ID                                                                                                  
----------- -------------------- ------------------------- -------------------------------------------------- -------------------- --------- ---------- ---------- -------------- ---------- -------------                                                                                                  
        200 Jennifer             Whalen                    JWHALEN                                            515.123.4444         17-SEP-03 AD_ASST          5324                       101            10                                                                                                  

SQL> select avg(salary) from employees where department_id=10;

AVG(SALARY)                                                                                                                                                                                                                                                                                                 
-----------                                                                                                                                                                                                                                                                                                 
       5324                                                                                                                                                                                                                                                                                                 

SQL> CREATE or replace FUNCTION check_sal RETURN Boolean IS
  2   v_dept_id employees.department_id%TYPE;
  3   v_empno   employees.employee_id%TYPE;
  4   v_sal     employees.salary%TYPE;
  5   v_avg_sal employees.salary%TYPE;
  6  BEGIN
  7   v_empno:=205;
  8   SELECT salary,department_id INTO v_sal,v_dept_id FROM employees
  9   WHERE employee_id= v_empno;
 10   SELECT avg(salary) INTO v_avg_sal FROM employees WHERE department_id=v_dept_id;
 11   IF v_sal > v_avg_sal THEN
 12    RETURN TRUE;
 13   ELSE
 14    RETURN FALSE;
 15   END IF;
 16  
 17  EXCEPTION
 18    WHEN NO_DATA_FOUND THEN
 19     RETURN NULL;
 20  END;
 21  /

Function created.

SQL> ed
Wrote file afiedt.buf

  1  CREATE or replace FUNCTION check_sal RETURN Boolean IS
  2   v_dept_id employees.department_id%TYPE;
  3   v_empno   employees.employee_id%TYPE;
  4   v_sal     employees.salary%TYPE;
  5   v_avg_sal employees.salary%TYPE;
  6  BEGIN
  7   v_empno:=200;
  8   SELECT salary,department_id INTO v_sal,v_dept_id FROM employees
  9   WHERE employee_id= v_empno;
 10   SELECT avg(salary) INTO v_avg_sal FROM employees WHERE department_id=v_dept_id;
 11   IF v_sal > v_avg_sal THEN
 12    RETURN TRUE;
 13   ELSE
 14    RETURN FALSE;
 15   END IF;
 16  EXCEPTION
 17    WHEN NO_DATA_FOUND THEN
 18     RETURN NULL;
 19* END;
 20  /

Function created.

SQL> declare
  2  flag boolean;
  3  begin
  4  flag:=check_sal();
  5  if flag=true then
  6  dbms_output.put_line('salary>avg(salary)');
  7  else
  8  dbms_output.put_line('salary<avg(salary)');
  9  end if;
 10  end;
 11  /
salary<avg(salary)                                                                                                                                                                                                                                                                                          

PL/SQL procedure successfully completed.

SQL> desc check_salary;
ERROR:
ORA-04043: object check_salary does not exist 


SQL> desc check_sal;
FUNCTION check_sal RETURNS BOOLEAN

SQL> SET VERIFY OFF
SQL> DROP FUNCTION check_sal;

Function dropped.

SQL> CREATE FUNCTION check_sal (p_empno  employees.employee_id%TYPE) RETURN Boolean IS
  2   v_dept_id employees.department_id%TYPE;
  3   v_sal     employees.salary%TYPE;
  4   v_avg_sal employees.salary%TYPE;
  5  BEGIN
  6   SELECT salary,department_id INTO v_sal,v_dept_id FROM employees
  7   WHERE employee_id=p_empno;
  8   SELECT avg(salary) INTO v_avg_sal FROM employees WHERE department_id=v_dept_id;
  9   IF v_sal > v_avg_sal THEN
 10    RETURN TRUE;
 11   ELSE
 12    RETURN FALSE;
 13   END IF;
 14  EXCEPTION
 15    WHEN NO_DATA_FOUND THEN
 16     RETURN NULL;
 17  END;
 18  /

Function created.

SQL> SET SERVEROUTPUT ON
SQL> 
SQL> BEGIN
  2    DBMS_OUTPUT.PUT_LINE('Checking for employee with id 205');
  3    IF (check_sal(205) IS NULL) THEN
  4      DBMS_OUTPUT.PUT_LINE('The function returned NULL due to exception');
  5    ELSIF (check_sal(205)) THEN
  6      DBMS_OUTPUT.PUT_LINE('Salary > average');
  7    ELSE
  8      DBMS_OUTPUT.PUT_LINE('Salary < average');
  9    END IF;
 10    DBMS_OUTPUT.PUT_LINE('Checking for employee with id 70');
 11    IF (check_sal(70) IS NULL) THEN
 12      DBMS_OUTPUT.PUT_LINE('The function returned NULL due to exception');
 13    ELSIF (check_sal(70)) THEN
 14      DBMS_OUTPUT.PUT_LINE('Salary > average');
 15    ELSE
 16      DBMS_OUTPUT.PUT_LINE('Salary < average');
 17    END IF;
 18  END;
 19  /
Checking for employee with id 205                                                                                                                                                                                                                                                                           
Salary > average                                                                                                                                                                                                                                                                                            
Checking for employee with id 70                                                                                                                                                                                                                                                                            
The function returned NULL due to exception                                                                                                                                                                                                                                                                 

PL/SQL procedure successfully completed.

SQL> ed
Wrote file afiedt.buf

  1  BEGIN
  2    DBMS_OUTPUT.PUT_LINE('Checking for employee with id 200');
  3    IF (check_sal(205) IS NULL) THEN
  4      DBMS_OUTPUT.PUT_LINE('The function returned NULL due to exception');
  5    ELSIF (check_sal(205)) THEN
  6      DBMS_OUTPUT.PUT_LINE('Salary > average');
  7    ELSE
  8      DBMS_OUTPUT.PUT_LINE('Salary < average');
  9    END IF;
 10    DBMS_OUTPUT.PUT_LINE('Checking for employee with id 70');
 11    IF (check_sal(170) IS NULL) THEN
 12      DBMS_OUTPUT.PUT_LINE('The function returned NULL due to exception');
 13    ELSIF (check_sal(70)) THEN
 14      DBMS_OUTPUT.PUT_LINE('Salary > average');
 15    ELSE
 16      DBMS_OUTPUT.PUT_LINE('Salary < average');
 17    END IF;
 18* END;
SQL> /
Checking for employee with id 200                                                                                                                                                                                                                                                                           
Salary > average                                                                                                                                                                                                                                                                                            
Checking for employee with id 70                                                                                                                                                                                                                                                                            
The function returned NULL due to exception                                                                                                                                                                                                                                                                 

PL/SQL procedure successfully completed.

SQL> ed
Wrote file afiedt.buf

  1  BEGIN
  2    DBMS_OUTPUT.PUT_LINE('Checking for employee with id 200');
  3    IF (check_sal(200) IS NULL) THEN
  4      DBMS_OUTPUT.PUT_LINE('The function returned NULL due to exception');
  5    ELSIF (check_sal(200)) THEN
  6      DBMS_OUTPUT.PUT_LINE('Salary > average');
  7    ELSE
  8      DBMS_OUTPUT.PUT_LINE('Salary < average');
  9    END IF;
 10    DBMS_OUTPUT.PUT_LINE('Checking for employee with id 70');
 11    IF (check_sal(170) IS NULL) THEN
 12      DBMS_OUTPUT.PUT_LINE('The function returned NULL due to exception');
 13    ELSIF (check_sal(170)) THEN
 14      DBMS_OUTPUT.PUT_LINE('Salary > average');
 15    ELSE
 16      DBMS_OUTPUT.PUT_LINE('Salary < average');
 17    END IF;
 18* END;
SQL> /
Checking for employee with id 200                                                                                                                                                                                                                                                                           
Salary < average                                                                                                                                                                                                                                                                                            
Checking for employee with id 70                                                                                                                                                                                                                                                                            
The function returned NULL due to exception                                                                                                                                                                                                                                                                 

PL/SQL procedure successfully completed.

SQL> ed
Wrote file afiedt.buf

  1  BEGIN
  2    DBMS_OUTPUT.PUT_LINE('Checking for employee with id 200');
  3    IF (check_sal(200) IS NULL) THEN
  4      DBMS_OUTPUT.PUT_LINE('The function returned NULL due to exception');
  5    ELSIF (check_sal(200)) THEN
  6      DBMS_OUTPUT.PUT_LINE('Salary > average');
  7    ELSE
  8      DBMS_OUTPUT.PUT_LINE('Salary < average');
  9    END IF;
 10    DBMS_OUTPUT.PUT_LINE('Checking for employee with id 170');
 11    IF (check_sal(170) IS NULL) THEN
 12      DBMS_OUTPUT.PUT_LINE('The function returned NULL due to exception');
 13    ELSIF (check_sal(170)) THEN
 14      DBMS_OUTPUT.PUT_LINE('Salary > average');
 15    ELSE
 16      DBMS_OUTPUT.PUT_LINE('Salary < average');
 17    END IF;
 18* END;
SQL> /
Checking for employee with id 200                                                                                                                                                                                                                                                                           
Salary < average                                                                                                                                                                                                                                                                                            
Checking for employee with id 170                                                                                                                                                                                                                                                                           
The function returned NULL due to exception                                                                                                                                                                                                                                                                 

PL/SQL procedure successfully completed.

SQL> select * from em ployees where employee_id=170;
select * from em ployees where employee_id=170
              *
ERROR at line 1:
ORA-00942: table or view does not exist 


SQL> select * from employees where employee_id=170;

no rows selected

SQL> exit
